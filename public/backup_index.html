<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>FocusFlow — Your Daily Progress</title>
    <meta
      name="description"
      content="Track your DSA progress with calm focus and cinematic beauty"
    />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="theme-color" content="#1b1b1b" />
    <link rel="icon" href="/favicon.ico" />

    <!-- Dynamic SEO -->
    <script>
      (function () {
        const origin = window.location.origin;
        const path = window.location.pathname;
        const link = document.createElement("link");
        link.rel = "canonical";
        link.href = origin + path;
        document.head.appendChild(link);

        const ogTags = [
          ["og:title", "FocusFlow — Your Daily Progress"],
          ["og:description", "Track your DSA journey with calm focus"],
          ["og:type", "website"],
          ["og:url", origin + path],
          ["og:image", origin + "/assets/home_preview.png"],
        ];

        ogTags.forEach(([property, content]) => {
          const m = document.createElement("meta");
          m.setAttribute("property", property);
          m.setAttribute("content", content);
          document.head.appendChild(m);
        });
      })();
    </script>

    <link rel="preload" href="css/helper.css" as="style" />
    <link rel="preload" href="css/main.css" as="style" />
    <link rel="stylesheet" href="css/helper.css" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/_sand-timer.css" />
    <link rel="stylesheet" href="css/_sticky_note.css" />
    <link rel="stylesheet" href="css/main_public.css" />
  </head>
  <body>
    <!-- Background Elements -->
    <div class="background-elements">
      <div class="lamp-container" id="lamp">
        <svg class="lamp" viewBox="0 0 200 300" aria-hidden="true">
          <!-- Lamp cord -->
          <line
            x1="100"
            y1="0"
            x2="100"
            y2="80"
            stroke="#8a795d"
            stroke-width="2"
            stroke-linecap="round"
          />
          <!-- Lamp shade -->
          <path
            d="M60 80 L140 80 L160 180 L40 180 Z"
            fill="#d4c9b8"
            stroke="#b8a993"
            stroke-width="2"
          />
          <!-- Lamp base -->
          <ellipse cx="100" cy="180" rx="60" ry="8" fill="#c4b6a1" />
          <!-- Light glow (will be toggled) -->
          <defs>
            <radialGradient id="lampGlow" cx="50%" cy="50%" r="50%">
              <stop offset="0%" stop-color="#f9f3e9" stop-opacity="0.8" />
              <stop offset="70%" stop-color="#f9f3e9" stop-opacity="0.3" />
              <stop offset="100%" stop-color="#f9f3e9" stop-opacity="0" />
            </radialGradient>
          </defs>
          <ellipse
            id="lamp-glow"
            cx="100"
            cy="180"
            rx="120"
            ry="40"
            fill="url(#lampGlow)"
            opacity="0"
          />
        </svg>
      </div>
      <div class="petals" id="petals" aria-hidden="true"></div>
    </div>

    <!-- Main Content -->
    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="brand">
          <span class="seal seal--leaf" aria-hidden="true"></span>
          <h1>FocusFlow</h1>
        </div>

        <div class="header-controls">
          <!-- Motion Toggles -->
          <div class="toggle-group">
            <button class="toggle-btn" id="toggle-leaves" aria-pressed="true">
              <svg
                class="toggle-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
              >
                <path
                  d="M12 2C7.03 2 3 6.03 3 11c0 4.97 4.03 9 9 9 4.97 0 9-4.03 9-9 0-4.97-4.03-9-9-9z"
                />
                <path d="M12 6v6l4 2" />
              </svg>
              <span class="toggle-text">Leaves: On</span>
            </button>

            <button class="toggle-btn" id="toggle-lamp" aria-pressed="true">
              <svg
                class="toggle-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
              >
                <path
                  d="M9 18h6M10 22h4M12 2v1M12 21v1M4.22 4.22l.71.71M18.36 18.36l.71.71M1 12h1M21 12h1M4.22 19.78l.71-.71M18.36 5.64l.71-.71"
                />
              </svg>
              <span class="toggle-text">Lamp: Light</span>
            </button>
          </div>

          <!-- User Controls -->
          <div class="user-controls">
            <div class="notification-wrapper">
              <button
                class="icon-btn"
                id="notifications-btn"
                aria-label="Notifications"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                >
                  <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
                  <path d="M13.73 21a2 2 0 0 1-3.46 0" />
                </svg>
                <span class="notification-badge" id="notification-count"
                  >0</span
                >
              </button>
              <div
                class="dropdown notifications-dropdown"
                id="notifications-dropdown"
              >
                <div class="dropdown-header">
                  <h3>Notifications</h3>
                </div>
                <div class="dropdown-content" id="notifications-list">
                  <div class="notification-item">
                    <p>Welcome to FocusFlow! Start tracking your progress.</p>
                    <span class="notification-time">Just now</span>
                  </div>
                </div>
                <div class="dropdown-footer">
                  <a href="/notifications" class="dropdown-link"
                    >See all notifications</a
                  >
                </div>
              </div>
            </div>

            <div class="profile-wrapper">
              <button
                class="icon-btn"
                id="profile-btn"
                aria-label="Profile menu"
              >
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                >
                  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                  <circle cx="12" cy="7" r="4" />
                </svg>
              </button>
              <div class="dropdown profile-dropdown" id="profile-dropdown">
                <div class="dropdown-content">
                  <a href="/auth" class="dropdown-item" id="login-link">
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                    >
                      <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" />
                      <polyline points="10 17 15 12 10 7" />
                      <line x1="15" y1="12" x2="3" y2="12" />
                    </svg>
                    Login
                  </a>
                  <button
                    class="dropdown-item"
                    id="logout-btn"
                    style="display: none"
                  >
                    <svg
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.5"
                    >
                      <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                      <polyline points="16 17 21 12 16 7" />
                      <line x1="21" y1="12" x2="9" y2="12" />
                    </svg>
                    Logout
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content Area -->
      <main class="main-content">
        <!-- Left Column - Questions List -->
        <div class="column-left">
          <div class="date-section">
            <h2 id="current-date">Today</h2>
            <p id="current-day" class="date-subtitle">Loading...</p>
          </div>

          <div class="questions-section">
            <div class="section-header">
              <h3>Today's Questions</h3>
              <button class="add-btn" id="add-question">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <line x1="12" y1="5" x2="12" y2="19" />
                  <line x1="5" y1="12" x2="19" y2="12" />
                </svg>
                Add Question
              </button>
            </div>

            <div class="questions-list" id="question-list">
              <!-- Questions will be dynamically inserted here -->
              <div class="empty-state">
                <svg
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1"
                >
                  <path
                    d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"
                  />
                  <polyline points="7.5 4.21 12 6.81 16.5 4.21" />
                  <polyline points="7.5 19.79 7.5 14.6 3 12" />
                  <polyline points="21 12 16.5 14.6 16.5 19.79" />
                  <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                  <line x1="12" y1="22.08" x2="12" y2="12" />
                </svg>
                <p>
                  No questions yet. Add your first question to begin tracking.
                </p>
              </div>
            </div>

            <div class="previous-days-link">
              <a href="#" class="text-link">See questions from previous days</a>
            </div>
          </div>
        </div>

        <!-- Right Column - Sand Timer -->
        <div class="column-right">
          <div class="sand-timer-container">
            <div class="sand-timer" id="sand-timer">
              <!-- Full State SVG (shown when no progress) -->
              <svg
                class="hourglass-svg hourglass-full"
                width="260px"
                height="280px"
                viewBox="0 0 14 18"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"
              >
                <defs>
                  <!-- Bottom bulb interior: prevents overflow on lower sand -->
                  <clipPath id="bottom-bulb-clip">
                    <path
                      d="
                      M 2.15 16.47
                      L 11.85 16.47
                      C 11.70 15.00 11.35 13.92 10.70 12.98
                        10.12 12.19 9.40 11.53 8.70 11.08
                        8.14 10.73 7.81 10.61 7.45 10.37
                        7.18 10.19 7.02 9.95 7.02 9.70
                        7.02 9.45 7.18 9.21 7.45 9.03
                        7.81 8.79 8.14 8.67 8.70 8.32
                        9.40 7.87 10.12 7.21 10.70 6.42
                        11.35 5.48 11.70 4.40 11.85 1.90
                      L 2.15 1.90
                      C 2.30 4.40 2.65 5.48 3.30 6.42
                        3.88 7.21 4.60 7.87 5.30 8.32
                        5.86 8.67 6.19 8.79 6.55 9.03
                        6.82 9.21 6.98 9.45 6.98 9.70
                        6.98 9.95 6.82 10.19 6.55 10.37
                        6.19 10.61 5.86 10.73 5.30 11.08
                        4.60 11.53 3.88 12.19 3.30 12.98
                        2.65 13.92 2.30 15.00 2.15 16.47
                      Z"
                    />
                  </clipPath>

                  <!-- Top bulb interior: keeps top sand inside the glass -->
                  <clipPath id="top-bulb-clip">
                    <path
                      d="
              M 2.15 1.90
              L 11.85 1.90
              C 11.70 3.37 11.35 4.45 10.70 5.39
                10.12 6.18 9.40 6.84 8.70 7.29
                8.14 7.64 7.81 7.76 7.45 8.00
                7.18 8.18 7.02 8.42 7.02 8.67
                7.02 8.92 7.18 9.16 7.45 9.34
                7.81 9.58 8.14 9.70 8.70 10.05
                9.40 10.50 10.12 11.16 10.70 11.95
                11.35 12.89 11.70 13.97 11.85 16.47
              L 2.15 16.47
              C 2.30 13.97 2.65 12.89 3.30 11.95
                3.88 11.16 4.60 10.50 5.30 10.05
                5.86 9.70 6.19 9.58 6.55 9.34
                6.82 9.16 6.98 8.92 6.98 8.67
                6.98 8.42 6.82 8.18 6.55 8.00
                6.19 7.76 5.86 7.64 5.30 7.29
                4.60 6.84 3.88 6.18 3.30 5.39
                2.65 4.45 2.30 3.37 2.15 1.90
              Z"
                    />
                  </clipPath>

                  <!-- Narrow channel through the neck; used to clip falling particles -->
                  <clipPath id="neck-clip">
                    <rect
                      x="6.65"
                      y="8.90"
                      width="0.70"
                      height="8.00"
                      rx="0.35"
                      ry="0.35"
                    />
                  </clipPath>

                  <style>
                    /* Falling sand particles (simple CSS-in-SVG animation) */
                    #falling-sand circle {
                      animation: fall 1.6s linear infinite;
                      transform-box: fill-box;
                      transform-origin: center;
                      opacity: 0;
                    }
                    #falling-sand circle:nth-child(2) {
                      animation-delay: 0.2s;
                    }
                    #falling-sand circle:nth-child(3) {
                      animation-delay: 0.4s;
                    }
                    #falling-sand circle:nth-child(4) {
                      animation-delay: 0.6s;
                    }
                    #falling-sand circle:nth-child(5) {
                      animation-delay: 0.8s;
                    }

                    @keyframes fall {
                      0% {
                        transform: translateY(0);
                        opacity: 0;
                      }
                      10% {
                        opacity: 1;
                      }
                      100% {
                        transform: translateY(7.5px);
                        opacity: 0;
                      }
                    }
                  </style>
                </defs>

                <g
                  id="sandclock"
                  stroke="none"
                  stroke-width="1"
                  fill="none"
                  fill-rule="evenodd"
                  sketch:type="MSPage"
                >
                  <!-- Glass outline (unchanged) -->
                  <path
                    id="Shape"
                    d="M13.0986667,16.465 L12.7226667,16.465 C12.6796667,16.031 12.5996667,15.6073333 12.4886667,15.1963333 C12.084,13.6953333 11.269,12.3646667 10.352,11.3396667 C9.52833333,10.4183333 8.623,9.74333333 7.859,9.41433333 C7.859,9.41433333 7.56766667,9.20133333 7.56766667,8.97866667 C7.56766667,8.75633333 7.859,8.54533333 7.859,8.54533333 C9.687,7.74033333 12.3786667,4.93333333 12.7223333,1.50133333 L13.0986667,1.50133333 C13.5006667,1.50133333 13.8266667,1.17533333 13.8266667,0.773666667 C13.8266667,0.371666667 13.5006667,0.0456666667 13.0986667,0.0456666667 L0.776,0.0456666667 C0.374,0.0456666667 0.048,0.371666667 0.048,0.773666667 C0.048,1.17533333 0.374,1.50133333 0.776,1.50133333 L1.152,1.50133333 C1.49233333,4.93666667 4.15866667,7.745 6.00533333,8.54733333 C6.00533333,8.54733333 6.31133333,8.737 6.31133333,8.97866667 C6.31133333,9.22033333 6.01566667,9.421 6.01566667,9.421 C5.26233333,9.75266667 4.36333333,10.4246667 3.54166667,11.3396667 C2.62066667,12.3646667 1.79833333,13.6953333 1.389,15.1963333 C1.277,15.6073333 1.196,16.031 1.15266667,16.465 L0.776,16.465 C0.374,16.465 0.048,16.791 0.048,17.1926667 C0.048,17.5946667 0.374,17.9206667 0.776,17.9206667 L13.0986667,17.9206667 C13.5006667,17.9206667 13.8266667,17.5946667 13.8266667,17.1926667 C13.8263333,16.791 13.5006667,16.465 13.0986667,16.465 L13.0986667,16.465 Z M2.47033333,16.4923333 L1.892,16.4923333 C1.92166667,16.023 1.97666667,15.5933333 2.053,15.1963333 C2.273,14.054 2.67366667,13.1896667 3.18666667,12.4753333 C3.47733333,12.0703333 3.80133333,11.6873333 4.14033333,11.3396667 C4.80733333,10.6553333 5.88879069,10.1021427 6.19133333,9.82066667 C6.49387598,9.53919067 6.65833333,9.39266667 6.65833333,8.997 C6.65833333,8.60133333 6.45611593,8.47363293 6.03570577,8.2112428 C5.61529562,7.94885266 4.034,6.69966667 3.17433333,5.49566667 C2.488,4.53433333 2.00533333,3.328 1.891,1.50166667 L11.982,1.50166667 C11.8663333,3.322 11.378,4.52866667 10.687,5.49133333 C9.82466667,6.69266667 8.52740499,7.75976575 7.89733907,8.12268078 C7.26727316,8.48559582 7.22133333,8.61 7.22133333,8.98333333 C7.22133333,9.35666667 7.41784912,9.52330154 7.89733907,9.82066691 C8.37682903,10.1180323 9.08133333,10.6486667 9.75266667,11.3393333 C10.0873333,11.6833333 10.4066667,12.0626667 10.6933333,12.4633333 C11.2053333,13.179 11.6043333,14.0463333 11.823,15.196 C11.8983333,15.5926667 11.9523333,16.0223333 11.9816667,16.492 L11.4053333,16.492 C4.14033338,16.4920002 5.86059567,16.4920002 2.47033333,16.4923333 Z"
                    fill="#a97458"
                    fill-opacity="0.49"
                  ></path>

                  <!-- TOP SAND (inside upper bulb) -->
                  <g id="sand-top" clip-path="url(#top-bulb-clip)">
                    <path
                      d="
                M 2.15 1.90
                L 11.85 1.90
                L 11.85 4.90
                Q 9.50 6.60 7.006958 8.67
                Q 4.50 6.60 2.15 4.90
                Z
              "
                      fill="#a3b18a"
                      fill-opacity="0.85"
                    />
                  </g>

                  <!-- BOTTOM SAND (inside lower bulb) -->
                  <g id="sand" clip-path="url(#bottom-bulb-clip)">
                    <path
                      id="sand-animation-path"
                      d="M 7 16 L 7 16"
                      fill="none"
                    />
                  </g>

                  <!-- FALLING STREAM (particles, clipped to neck + bottom bulb) -->
                  <g clip-path="url(#neck-clip)">
                    <g clip-path="url(#bottom-bulb-clip)">
                      <g id="falling-sand" fill="#a3b18a">
                        <!-- start just below the neck -->
                        <circle cx="7.00" cy="9.10" r="0.06" />
                        <circle cx="7.00" cy="9.10" r="0.06" />
                        <circle cx="7.00" cy="9.10" r="0.06" />
                        <circle cx="7.00" cy="9.10" r="0.06" />
                        <circle cx="7.00" cy="9.10" r="0.06" />
                      </g>
                    </g>
                  </g>
                </g>
              </svg>

              <!-- Flowing State SVG (shown when progress > 0) -->
              <svg
                class="hourglass-svg hourglass-flow"
                width="260px"
                height="280px"
                viewBox="0 0 14 18"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"
                style="display: none"
              >
                <defs>
                  <!-- Bottom bulb interior: prevents overflow on lower sand -->
                  <clipPath id="bottom-bulb-clip-flow">
                    <path
                      d="
              M 2.15 16.47
              L 11.85 16.47
              C 11.70 15.00 11.35 13.92 10.70 12.98
                10.12 12.19 9.40 11.53 8.70 11.08
                8.14 10.73 7.81 10.61 7.45 10.37
                7.18 10.19 7.02 9.95 7.02 9.70
                7.02 9.45 7.18 9.21 7.45 9.03
                7.81 8.79 8.14 8.67 8.70 8.32
                9.40 7.87 10.12 7.21 10.70 6.42
                11.35 5.48 11.70 4.40 11.85 1.90
              L 2.15 1.90
              C 2.30 4.40 2.65 5.48 3.30 6.42
                3.88 7.21 4.60 7.87 5.30 8.32
                5.86 8.67 6.19 8.79 6.55 9.03
                6.82 9.21 6.98 9.45 6.98 9.70
                6.98 9.95 6.82 10.19 6.55 10.37
                6.19 10.61 5.86 10.73 5.30 11.08
                4.60 11.53 3.88 12.19 3.30 12.98
                2.65 13.92 2.30 15.00 2.15 16.47
              Z"
                    />
                  </clipPath>

                  <!-- Top bulb interior: keeps top sand inside the glass -->
                  <clipPath id="top-bulb-clip-flow">
                    <path
                      d="
              M 2.15 1.90
              L 11.85 1.90
              C 11.70 3.37 11.35 4.45 10.70 5.39
                10.12 6.18 9.40 6.84 8.70 7.29
                8.14 7.64 7.81 7.76 7.45 8.00
                7.18 8.18 7.02 8.42 7.02 8.67
                7.02 8.92 7.18 9.16 7.45 9.34
                7.81 9.58 8.14 9.70 8.70 10.05
                9.40 10.50 10.12 11.16 10.70 11.95
                11.35 12.89 11.70 13.97 11.85 16.47
              L 2.15 16.47
              C 2.30 13.97 2.65 12.89 3.30 11.95
                3.88 11.16 4.60 10.50 5.30 10.05
                5.86 9.70 6.19 9.58 6.55 9.34
                6.82 9.16 6.98 8.92 6.98 8.67
                6.98 8.42 6.82 8.18 6.55 8.00
                6.19 7.76 5.86 7.64 5.30 7.29
                4.60 6.84 3.88 6.18 3.30 5.39
                2.65 4.45 2.30 3.37 2.15 1.90
              Z"
                    />
                  </clipPath>

                  <!-- Narrow channel through the neck; used to clip falling particles -->
                  <clipPath id="neck-clip-flow">
                    <rect
                      x="6.65"
                      y="8.90"
                      width="0.70"
                      height="8.00"
                      rx="0.35"
                      ry="0.35"
                    />
                  </clipPath>

                  <style>
                    /* Falling sand particles (simple CSS-in-SVG animation) */
                    #falling-sand-flow circle {
                      animation: fall-flow 1.6s linear infinite;
                      transform-box: fill-box;
                      transform-origin: center;
                      opacity: 0;
                    }
                    #falling-sand-flow circle:nth-child(2) {
                      animation-delay: 0.2s;
                    }
                    #falling-sand-flow circle:nth-child(3) {
                      animation-delay: 0.4s;
                    }
                    #falling-sand-flow circle:nth-child(4) {
                      animation-delay: 0.6s;
                    }
                    #falling-sand-flow circle:nth-child(5) {
                      animation-delay: 0.8s;
                    }

                    @keyframes fall-flow {
                      0% {
                        transform: translateY(0);
                        opacity: 0;
                      }
                      10% {
                        opacity: 1;
                      }
                      100% {
                        transform: translateY(7.5px);
                        opacity: 0;
                      }
                    }
                  </style>
                </defs>

                <g
                  id="sandclock-flow"
                  stroke="none"
                  stroke-width="1"
                  fill="none"
                  fill-rule="evenodd"
                  sketch:type="MSPage"
                >
                  <!-- Glass outline (unchanged) -->
                  <path
                    id="Shape-flow"
                    d="M13.0986667,16.465 L12.7226667,16.465 C12.6796667,16.031 12.5996667,15.6073333 12.4886667,15.1963333 C12.084,13.6953333 11.269,12.3646667 10.352,11.3396667 C9.52833333,10.4183333 8.623,9.74333333 7.859,9.41433333 C7.859,9.41433333 7.56766667,9.20133333 7.56766667,8.97866667 C7.56766667,8.75633333 7.859,8.54533333 7.859,8.54533333 C9.687,7.74033333 12.3786667,4.93333333 12.7223333,1.50133333 L13.0986667,1.50133333 C13.5006667,1.50133333 13.8266667,1.17533333 13.8266667,0.773666667 C13.8266667,0.371666667 13.5006667,0.0456666667 13.0986667,0.0456666667 L0.776,0.0456666667 C0.374,0.0456666667 0.048,0.371666667 0.048,0.773666667 C0.048,1.17533333 0.374,1.50133333 0.776,1.50133333 L1.152,1.50133333 C1.49233333,4.93666667 4.15866667,7.745 6.00533333,8.54733333 C6.00533333,8.54733333 6.31133333,8.737 6.31133333,8.97866667 C6.31133333,9.22033333 6.01566667,9.421 6.01566667,9.421 C5.26233333,9.75266667 4.36333333,10.4246667 3.54166667,11.3396667 C2.62066667,12.3646667 1.79833333,13.6953333 1.389,15.1963333 C1.277,15.6073333 1.196,16.031 1.15266667,16.465 L0.776,16.465 C0.374,16.465 0.048,16.791 0.048,17.1926667 C0.048,17.5946667 0.374,17.9206667 0.776,17.9206667 L13.0986667,17.9206667 C13.5006667,17.9206667 13.8266667,17.5946667 13.8266667,17.1926667 C13.8263333,16.791 13.5006667,16.465 13.0986667,16.465 L13.0986667,16.465 Z M2.47033333,16.4923333 L1.892,16.4923333 C1.92166667,16.023 1.97666667,15.5933333 2.053,15.1963333 C2.273,14.054 2.67366667,13.1896667 3.18666667,12.4753333 C3.47733333,12.0703333 3.80133333,11.6873333 4.14033333,11.3396667 C4.80733333,10.6553333 5.88879069,10.1021427 6.19133333,9.82066667 C6.49387598,9.53919067 6.65833333,9.39266667 6.65833333,8.997 C6.65833333,8.60133333 6.45611593,8.47363293 6.03570577,8.2112428 C5.61529562,7.94885266 4.034,6.69966667 3.17433333,5.49566667 C2.488,4.53433333 2.00533333,3.328 1.891,1.50166667 L11.982,1.50166667 C11.8663333,3.322 11.378,4.52866667 10.687,5.49133333 C9.82466667,6.69266667 8.52740499,7.75976575 7.89733907,8.12268078 C7.26727316,8.48559582 7.22133333,8.61 7.22133333,8.98333333 C7.22133333,9.35666667 7.41784912,9.52330154 7.89733907,9.82066691 C8.37682903,10.1180323 9.08133333,10.6486667 9.75266667,11.3393333 C10.0873333,11.6833333 10.4066667,12.0626667 10.6933333,12.4633333 C11.2053333,13.179 11.6043333,14.0463333 11.823,15.196 C11.8983333,15.5926667 11.9523333,16.0223333 11.9816667,16.492 L11.4053333,16.492 C4.14033338,16.4920002 5.86059567,16.4920002 2.47033333,16.4923333 Z"
                    fill="#a97458"
                    fill-opacity="0.49"
                  ></path>

                  <!-- TOP SAND (inside upper bulb) - Empty in flowing state -->
                  <g id="sand-top-flow" clip-path="url(#top-bulb-clip-flow)">
                    <path d="M 7 1.9 L 7 1.9" fill="none" />
                  </g>

                  <!-- BOTTOM SAND (inside lower bulb) - Full in flowing state -->
                  <g id="sand-flow" clip-path="url(#bottom-bulb-clip-flow)">
                    <path
                      id="sand-animation-path-flow"
                      d="
                M 1.50 16.47052
                L 12.50 16.47052
                L 12.50 11.90
                C 10.80 10.70 9.10 9.70 7.00 8.85
                C 4.90 9.70 3.20 10.70 1.50 11.90
                Z
              "
                      fill="#a3b18a"
                    />
                  </g>

                  <!-- FALLING STREAM (particles, clipped to neck + bottom bulb) -->
                  <g clip-path="url(#neck-clip-flow)">
                    <g clip-path="url(#bottom-bulb-clip-flow)">
                      <g id="falling-sand-flow" fill="#a3b18a">
                        <!-- start just below the neck -->
                        <circle cx="7.00" cy="9.10" r="0.06" />
                        <circle cx="7.00" cy="9.10" r="0.06" />
                        <circle cx="7.00" cy="9.10" r="0.06" />
                        <circle cx="7.00" cy="9.10" r="0.06" />
                        <circle cx="7.00" cy="9.10" r="0.06" />
                      </g>
                    </g>
                  </g>
                </g>
              </svg>

              <!-- Enhanced falling sand particles -->
              <div class="sand-particles-overlay" id="sand-particles-overlay">
                <!-- Sand particles will be created here when questions are completed -->
              </div>

              <!-- Continuous sand flow in neck -->
              <div class="hourglass-neck-flow">
                <div class="flowing-sand" id="flowing-sand"></div>
              </div>
            </div>
            <div class="progress-text">
              <span id="progress-count">0</span> of
              <span id="total-count">0</span> completed
            </div>
          </div>

          <div class="todo-container">
            <div class="todo-header">
              <h3>Todos</h3>
              <div class="todo-actions">
                <button class="todo-btn auto-btn" id="auto-todo">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M12 6V4M6 12H4M18 12h2M7.76 7.76l-1.41-1.41M16.24 7.76l1.41-1.41M7.76 16.24l-1.41 1.41M16.24 16.24l1.41 1.41"
                    />
                    <circle cx="12" cy="12" r="4" />
                  </svg>
                  Auto
                </button>
                <button class="todo-btn create-btn" id="create-todo">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <line x1="12" y1="5" x2="12" y2="19" />
                    <line x1="5" y1="12" x2="19" y2="12" />
                  </svg>
                  Create your own
                </button>
              </div>
            </div>

            <div class="todo-list-container">
              <ul class="todo-list" id="todo-list">
                <!-- Todos will be dynamically inserted here -->
                <div class="todo-empty-state">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1"
                  >
                    <path
                      d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M9 5a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"
                    />
                  </svg>
                  <p>No todos yet. Create one to get started.</p>
                </div>
              </ul>
            </div>

            <div class="todo-footer">
              <a href="#" class="text-link" id="see-all-todos"
                >See all previous todos</a
              >
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Toast Messages -->
    <div class="toast-container" id="toast" aria-live="polite"></div>

    <!-- Add Question Modal -->
    <div class="modal-overlay" id="add-modal" style="display: none">
      <div class="modal">
        <div class="modal-header">
          <h3>Add New Question</h3>
          <button class="modal-close" id="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="add-question-form">
            <div class="form-group">
              <label for="question-text">Question</label>
              <input
                type="text"
                id="question-text"
                placeholder="Enter question name"
                required
              />
            </div>
            <div class="form-group">
              <label for="question-link">Link (Optional)</label>
              <input
                type="url"
                id="question-link"
                placeholder="https://leetcode.com/problems/..."
              />
            </div>
            <div class="form-group">
              <label for="question-difficulty">Difficulty</label>
              <div class="difficulty-selector">
                <button
                  type="button"
                  class="difficulty-btn active"
                  data-difficulty="Easy"
                >
                  Easy
                </button>
                <button
                  type="button"
                  class="difficulty-btn"
                  data-difficulty="Medium"
                >
                  Medium
                </button>
                <button
                  type="button"
                  class="difficulty-btn"
                  data-difficulty="Hard"
                >
                  Hard
                </button>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" id="cancel-add">Cancel</button>
          <button class="btn-primary" id="save-question">Add Question</button>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="delete-modal" style="display: none">
      <div class="modal">
        <div class="modal-header">
          <h3>Confirm Delete</h3>
          <button class="modal-close" id="close-delete-modal">&times;</button>
        </div>
        <div class="modal-body">
          <p>
            Are you sure you want to delete this question? This action cannot be
            undone.
          </p>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" id="cancel-delete">Cancel</button>
          <button class="btn-danger" id="confirm-delete">Delete</button>
        </div>
      </div>
    </div>

    <!-- Public Landing (shown when logged out) -->
    <div class="public-landing" id="public-landing">
      <div class="cinematic-container">
        <!-- Background Elements - Lamp & Leaves -->
        <div class="landing-background">
          <div class="floating-particles"></div>
          <div class="glow-orbs">
            <div class="glow-orb orb-1"></div>
            <div class="glow-orb orb-2"></div>
          </div>

          <!-- Lamp Container -->
          <div class="landing-lamp-container" id="landing-lamp">
            <svg class="landing-lamp" viewBox="0 0 200 300" aria-hidden="true">
              <!-- Lamp cord with visible knot + heavy hang -->
              <path
                d="
                  M100 0
                  C95 25, 105 35, 100 55
                  C98 65, 102 68, 100 72
                  C93 75, 107 75, 100 78
                  C107 81, 93 81, 100 84
                  C100 86, 100 88, 100 90
                  C92 110, 108 120, 100 135
                  C98 150, 102 165, 100 180
                "
                stroke="#8a795d"
                stroke-width="2.4"
                stroke-linecap="round"
                fill="none"
              />

              <!-- Lamp shade -->
              <path
                d="M70 80
                Q100 70 130 80
                L155 180
                Q100 195 45 180 Z"
                fill="#d4c9b8"
                stroke="#b8a993"
                stroke-width="2"
              />

              <!-- Lamp base -->
              <ellipse cx="100" cy="180" rx="60" ry="8" fill="#c4b6a1" />

              <!-- Light glow -->
              <defs>
                <radialGradient id="landingLampGlow" cx="50%" cy="50%" r="50%">
                  <stop offset="0%" stop-color="#f9f3e9" stop-opacity="0.6" />
                  <stop offset="70%" stop-color="#f9f3e9" stop-opacity="0.2" />
                  <stop offset="100%" stop-color="#f9f3e9" stop-opacity="0" />
                </radialGradient>
              </defs>

              <ellipse
                id="landing-lamp-glow"
                cx="100"
                cy="180"
                rx="120"
                ry="40"
                fill="url(#landingLampGlow)"
                opacity="0.4"
              />
            </svg>
          </div>

          <!-- Petals Container -->
          <div
            class="landing-petals"
            id="landing-petals"
            aria-hidden="true"
          ></div>
        </div>

        <!-- Main Content Grid -->
        <div class="landing-grid">
          <!-- Left Column - Main Content (600px) -->
          <div class="landing-left">
            <div class="landing-content">
              <!-- Logo -->
              <div class="landing-brand">
                <div class="brand">
                  <span class="seal seal--leaf" aria-hidden="true"></span>
                  <h1>FocusFlow</h1>
                </div>
              </div>

              <!-- Headline -->
              <div class="landing-headline">
                <h2>The Art of Consistent Growth</h2>
                <p>Every grain of practice builds mastery</p>
              </div>

              <!-- Sand Timer -->
              <div class="landing-sand-timer-container">
                <div class="landing-sand-timer">
                  <div class="landing-hourglass">
                    <div class="landing-frame"></div>
                    <div class="landing-sand-top">
                      <div class="landing-sand-fill"></div>
                    </div>
                    <div class="landing-sand-bottom">
                      <div class="landing-sand-fill"></div>
                    </div>
                    <div class="landing-neck">
                      <div class="landing-sand-flow">
                        <!-- Sand particles will be added by JS -->
                      </div>
                    </div>
                  </div>
                  <div class="landing-stand"></div>
                </div>
              </div>

              <!-- Action Buttons -->
              <div class="landing-actions">
                <a href="/auth" class="landing-btn primary">
                  <span>Begin Journey</span>
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path d="M5 12h14M12 5l7 7-7 7" />
                  </svg>
                </a>
                <button class="landing-btn secondary" id="study-lamp-btn">
                  <span>Study Lamp</span>
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M9 18h6M10 22h4M12 2v1M12 21v1M4.22 4.22l.71.71M18.36 18.36l.71.71M1 12h1M21 12h1M4.22 19.78l.71-.71M18.36 5.64l.71-.71"
                    />
                  </svg>
                </button>
              </div>

              <!-- Motion Toggles -->
              <div class="landing-toggles">
                <button
                  class="toggle-btn"
                  id="landing-toggle-leaves"
                  aria-pressed="true"
                >
                  <svg
                    class="toggle-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                  >
                    <path
                      d="M12 2C7.03 2 3 6.03 3 11c0 4.97 4.03 9 9 9 4.97 0 9-4.03 9-9 0-4.97-4.03-9-9-9z"
                    />
                    <path d="M12 6v6l4 2" />
                  </svg>
                  <span class="toggle-text">Leaves: On</span>
                </button>

                <button
                  class="toggle-btn"
                  id="landing-toggle-lamp"
                  aria-pressed="true"
                >
                  <svg
                    class="toggle-icon"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                  >
                    <path
                      d="M9 18h6M10 22h4M12 2v1M12 21v1M4.22 4.22l.71.71M18.36 18.36l.71.71M1 12h1M21 12h1M4.22 19.78l.71-.71M18.36 5.64l.71-.71"
                    />
                  </svg>
                  <span class="toggle-text">Lamp: Light</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Right Column - Real Story (500px) -->
          <div class="landing-right desktop-only">
            <div class="real-story">
              <div class="story-header">
                <h3>Real Indian DSA Journey</h3>
                <div class="story-meta">
                  <span class="story-author">Himanshu Kumar</span>
                  <span class="story-role"
                    >College Student & DSA Enthusiast</span
                  >
                </div>
              </div>

              <div class="story-content">
                <blockquote>
                  "DSA is a marathon, not a sprint. It's about patience,
                  practice, and persistence. Every problem you solve is a step
                  closer to your goals."
                </blockquote>

                <div class="story-insight">
                  <p>
                    In his
                    <a
                      href="https://medium.com/@himanshukumar050206/my-dsa-journey-a-story-of-dedication-and-growth-0a65c96ed527"
                      target="_blank"
                      rel="noopener"
                      >Medium article</a
                    >, Himanshu shared his authentic journey:
                  </p>
                  <ul>
                    <li>
                      Started in 1st year feeling overwhelmed by DSA topics
                    </li>
                    <li>
                      Created structured roadmap focusing on one topic at a time
                    </li>
                    <li>
                      Maintained 2-3 hours of daily DSA practice consistently
                    </li>
                    <li>Used mock tests and peer groups to stay motivated</li>
                    <li>Transformed self-doubt into learning opportunities</li>
                  </ul>
                </div>

                <div class="story-cta">
                  <p>
                    <strong>This mirrors FocusFlow's mission:</strong> To
                    provide that structured, consistent practice system that
                    turns overwhelming DSA journeys into achievable daily
                    progress.
                  </p>
                </div>
              </div>

              <div class="story-footer">
                <a
                  href="https://medium.com/@himanshukumar050206/my-dsa-journey-a-story-of-dedication-and-growth-0a65c96ed527"
                  target="_blank"
                  rel="noopener"
                  class="story-link"
                >
                  Read full story on Medium
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
                    />
                  </svg>
                </a>
                <br />
                <a
                  href="http://www.linkedin.com/in/himanshu-kumar123"
                  target="_blank"
                  rel="noopener"
                  class="story-link"
                  style="margin-top: 8px; font-size: 13px"
                >
                  Connect on LinkedIn
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
                    />
                    <rect x="2" y="9" width="4" height="12" />
                    <circle cx="4" cy="4" r="2" />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script defer src="js/cached_helper.js"></script>
    <script defer src="js/cached_main.js"></script>
    <script defer src="js/cached_main_public.js"></script>
    <!-- <script defer src="js/main_todos.js"></script> -->
    <!-- <script defer src="js/helper.js"></script> -->
    <!-- <script defer src="js/main.js"></script> -->
    <!-- <script defer src="js/main_updated.js"></script>
    <script defer src="js/main_public.js"></script> -->
  </body>
</html>
